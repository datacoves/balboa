version: 2

sources:
  - name: nyt_covid
    database: raw
    schema: raw
    tags:
      - daily_afternoon
    tables:
      - name: nyt_covid_data
        description: >
          RAW <a href="https://github.com/nytimes/covid-19-data/" target="_blank">Covid information from the NYT</a>
        identifier: _AIRBYTE_RAW_NYT_COVID_DATA
        columns:
          - name: _airbyte_ab_id
            descrition: "Airbyte's unitque identifier for this record"
            tests:
              - not_null
          - name: _airbyte_data
            description: VARIAN Column containing source data
          - name: _airbyte_emitted_at
            descrition: Airbyte ingestions timestampt for this record

models:
  - name: base_cases
    description: Covid information from the NYT
    columns:
      - name: cases
        description: Reported Covid-19 cases
      - name: deaths
        description: Reported deaths due to Covid-19
      - name: date
        description: Reporting date
      - name: fips
        description: FIPS Code
      - name: state
        description: Reporting State
        # No masking policies in Standard Snowflake account
        # meta:
        #   masking_policy: full_field
        tests:
          - not_null
      - name: _airbyte_ab_id
      - name: _airbyte_emitted_at
