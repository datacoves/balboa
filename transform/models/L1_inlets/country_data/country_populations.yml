version: 2

models:
  - name: country_populations
    access: public
    latest_version: 2
    versions:
      - v: 1
        columns:
          - name: country_code
            description: The ISO 3166-1 alpha-2 code for the country
          - name: country_name
            description: The name of the country
          - name: value
            description: The population value for a particular year and country
          - name: year
            description: The year for which the population value is recorded
      - v: 2
        columns:
          - include: all
            name: last_year
            description: The prior year for which the population value is recorded
      - v: 3
        columns:
          - include: all
            exclude: [last_year]
            name: prior_year
            description: The prior year for which the population value is recorded


    description: Contains population information from the Github Datasets repository.
    data_tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - country_code
            - year
